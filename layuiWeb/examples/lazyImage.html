<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>流加载 - layui</title>
    <!--<link rel="stylesheet" href="../src/css/layui.css">-->
    <style>
        .img-ul li {
            float: left;
        }
    </style>
</head>
<body>
    <ul class="flow-default img-ul">
            <!-- 加载图片的内容区域  -->
    </ul> 
    <script>
        layui.use(['flow', 'config'], function () {
            var flow = layui.flow,
                config = layui.config;

            flow.load({  // 默认加载图片
                  elem: '.flow-default' //流加载容器
                , scrollElem: '.flow-default' //滚动条所在元素，默认document
                ,isAuto: false
                ,end: '没了'
                , isLazyimg: true
                , done: function (page, next) { //加载下一页
                    console.log(page);
                    console.log(next)

                    debugger;
                    setTimeout(function () {
                        var lis = [];
                        for (var i = 0; i < 6; i++) {
                            lis.push('<li><div style="padding:5px"><img width="200px"; height="140px";  lay-src="' + config.fileUrl + '4f9d9824-a446-4ee1-91b7-b3e61f9c26f4.png?v=' + (page + i) + '"></div></li>')
                        }
                        next(lis.join(''), page < 3);
                    }, 500);
                }
            });

            //按屏加载图片
            // flow.lazyimg({
            //     elem: '.demo img'
            //     , scrollElem: '.demo'
            // });

        });
    </script>
</body>
</html>
